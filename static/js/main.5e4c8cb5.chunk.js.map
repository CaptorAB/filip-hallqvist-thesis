{"version":3,"sources":["Header/Header.js","libcapgen.js","constants.js","SimulatorContainer.js","Sidebar/Sidebar.js","Tabs/Tabs.js","Simulator/Parameters.js","Simulator/Results.js","Simulator/Simulator.js","App.js","serviceWorker.js","index.js"],"names":["Header","withTheme","_ref","theme","rest","Object","objectWithoutProperties","react_default","a","createElement","Pane","assign","display","padding","background","palette","blue","base","flex","alignItems","Heading","color","colors","border","default","_libcapgen","window","libcapgen","instance","callbacks","onRuntimeInitialized","optimize","apply","arguments","map","c","Promise","resolve","push","N_INSTRUMENTS","INSTRUMENT_NAMES","SimulatorContainer","_Container","_getPrototypeOf2","_this","classCallCheck","this","_len","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","concat","state","history","loading","metrics","fitness","expectedReturn","expectedRisk","weights","asyncToGenerator","regenerator_default","mark","_callee","options","result","i","wrap","_context","prev","next","sent","individual","get","title","timestamp","format","Date","objectSpread","setState","toConsumableArray","stop","_x","inherits","Container","Sidebar","height","overflowY","width","borderRight","unstated_es","to","simulator","x","key","borderBottom","size","UnorderedList","marginBottom","Sidebar_Metric","icon","toFixed","Metric","_ref2","children","ListItem","marginTop","marginRight","paddingLeft","fontSize","TabPane","Tab","src_Tab","Tabs","_ref3","_useState","useState","_useState2","slicedToArray","selected","setSelected","Fragment","Tablist","marginX","React","Children","_x$props","props","Tabs_Tab","is","isSelected","onSelect","Tabs_TabPane","Parameters","values","handleChange","setFieldValue","paddingX","paddingY","flexDirection","Tabs_Tabs","Parameters_PortfolioParameters","Parameters_SimulationParameters","Parameters_OptimizerParameters","Parameters_ReallocationParameters","Parameters_InstrumentConstraintParameters","Parameters_MarginConstraintParameters","Parameter","TextInputField","flexBasis","MarginConstraintParameters","flexWrap","Text","marginY","marginConstraints","constraint","index","Small","TextInput","type","name","value","onChange","step","min","max","InstrumentConstraintParameters","instrumentConstraints","allocationConstraint","ReallocationParameters","_ref4","transactionCosts","transactionCost","Parameters_Parameter","label","placeholder","PortfolioParameters","_ref5","hint","riskAversion","initialFundingRatio","targetFundingRatio","SimulationParameters","_ref6","steps","OptimizerParameters","_ref7","populationSize","elitismCopies","generations","mutationRate","crossoverRate","Results","weight","Results_Card","Card","Simulator","formik_esm","initialValues","onSubmit","setSubmitting","isSubmitting","handleSubmit","Button","appearance","iconBefore","App","Spinner","transform","position","left","top","Boolean","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5e4c8cb5.chunk.js","sourcesContent":["import React from \"react\";\nimport { Pane, Heading, withTheme } from \"evergreen-ui\";\n\nexport const Header = withTheme(({ theme, ...rest }) => (\n  <Pane\n    display=\"flex\"\n    padding={16}\n    background={theme.palette.blue.base}\n    {...rest}\n  >\n    <Pane flex={1} alignItems=\"center\" display=\"flex\">\n      <Heading color={theme.colors.border.default}>Capgen</Heading>\n    </Pane>\n    <Pane />\n  </Pane>\n));\n","const _libcapgen = window.libcapgen();\n\nlet instance = null;\nconst callbacks = [];\n_libcapgen.onRuntimeInitialized = () => {\n  instance = {\n    optimize: (...args) => _libcapgen.optimize(...args)\n  };\n  callbacks.map(c => c());\n};\n\nexport const libcapgen = () =>\n  new Promise(resolve => {\n    if (instance === null) {\n      callbacks.push(() => resolve(instance));\n    } else {\n      resolve(instance);\n    }\n  });\n","export const N_INSTRUMENTS = 13;\nexport const N_RISKS = 8;\n\nexport const DOMESTIC_EQUITY_INDEX = 0;\nexport const GLOBAL_EQUITY_INDEX = 1;\nexport const REAL_ESTATE_INDEX = 2;\nexport const ALTERNATIVE_INDEX = 3;\nexport const CREDIT_INDEX = 4;\nexport const BONDS_2Y_INDEX = 5;\nexport const BONDS_5Y_INDEX = 6;\nexport const CASH_INDEX = 7;\nexport const FTA_INDEX = 8;\nexport const DOMESTIC_EQUITY_FUTURE_INDEX = 9;\nexport const INTEREST_RATE_SWAP_2Y_INDEX = 10;\nexport const INTEREST_RATE_SWAP_5Y_INDEX = 11;\nexport const INTEREST_RATE_SWAP_20Y_INDEX = 12;\n\nexport const DOMESTIC_MARKET_RISK_INDEX = 0;\nexport const GLOBAL_MARKET_RISK_INDEX = 1;\nexport const ALTERNATIVE_RISK_INDEX = 2;\nexport const INTEREST_RATE_2Y_RISK_INDEX = 3;\nexport const INTEREST_RATE_5Y_RISK_INDEX = 4;\nexport const INTEREST_RATE_20Y_RISK_INDEX = 5;\nexport const CREDIT_RISK_INDEX = 6;\nexport const CASH_RISK_INDEX = 7;\n\nexport const INSTRUMENT_NAMES = [\n  \"Domestic Equity\",\n  \"Global Equity\",\n  \"Real Estate\",\n  \"Alternative\",\n  \"Credit\",\n  \"Bonds 2-Year\",\n  \"Bonds 5-Year\",\n  \"Cash\",\n  \"FTA\",\n  \"Domestic Equity Futures\",\n  \"Interest Rate Swap 2-Year\",\n  \"Interest Rate Swap 5-Year\",\n  \"Interest Rate Swap 20-Year\"\n];\n","import { Container } from \"unstated\";\n\nimport { libcapgen } from \"./libcapgen\";\nimport { format } from \"date-fns\";\nimport { N_INSTRUMENTS } from \"./constants\";\n\n/*\nconst _preOrderTraversal = (array, current, path, paths) => {\n  path.push(array[current]);\n  const left = 2 * current + 1;\n  const right = 2 * current + 2;\n  if (left <= array.length && right <= array.length) {\n    _preOrderTraversal(array, left, [...path], paths);\n    _preOrderTraversal(array, right, [...path], paths);\n  } else {\n    paths.push(path);\n  }\n};\n\nconst preOrderTraversal = array => {\n  const paths = [];\n  _preOrderTraversal(array, 0, [], paths);\n  return paths;\n};\n*/\n\nexport class SimulatorContainer extends Container {\n  state = {\n    history: [],\n    loading: false,\n    metrics: {\n      fitness: 0,\n      expectedReturn: 0,\n      expectedRisk: 0\n    },\n    weights: []\n  };\n  optimize = async options => {\n    const instance = await libcapgen();\n    const result = instance.optimize(options);\n    const metrics = {\n      fitness: result.fitness,\n      expectedReturn: result.expectedReturn,\n      expectedRisk: result.expectedRisk\n    };\n\n    const weights = [];\n    for (let i = 0; i < N_INSTRUMENTS; ++i) {\n      weights.push(result.individual.get(i));\n    }\n\n    const state = {\n      title: \"Backtest\",\n      timestamp: format(new Date(), \"yyyy-MM-dd HH:mm:ss\"),\n      metrics: { ...metrics },\n      weights: [...weights]\n    };\n\n    this.setState({\n      ...this.state,\n      ...state,\n      history: [state, ...this.state.history]\n    });\n  };\n}\n","import React from \"react\";\nimport {\n  Pane,\n  Heading,\n  UnorderedList,\n  ListItem,\n  withTheme\n} from \"evergreen-ui\";\nimport { Subscribe } from \"unstated\";\nimport { SimulatorContainer } from \"../SimulatorContainer\";\n\nexport const Sidebar = withTheme(({ theme, ...rest }) => (\n  <Pane\n    height=\"100%\"\n    overflowY=\"auto\"\n    width=\"200px\"\n    background=\"tint1\"\n    borderRight={`1px solid ${theme.colors.border.default}`}\n    {...rest}\n  >\n    <Subscribe to={[SimulatorContainer]}>\n      {simulator =>\n        simulator.state.history.map((x, i) => (\n          <Pane\n            key={i}\n            padding={16}\n            borderBottom={`1px solid ${theme.colors.border.default}`}\n          >\n            <Heading size={200}>{x.title}</Heading>\n            <Heading size={100}>{x.timestamp}</Heading>\n            <UnorderedList marginBottom={0}>\n              <Metric icon=\"symbol-triangle-up\">\n                {x.metrics.expectedReturn.toFixed(2)}\n              </Metric>\n              <Metric icon=\"symbol-triangle-down\">\n                {x.metrics.expectedRisk.toFixed(2)}\n              </Metric>\n            </UnorderedList>\n          </Pane>\n        ))\n      }\n    </Subscribe>\n  </Pane>\n));\n\nconst Metric = ({ children, ...rest }) => (\n  <ListItem\n    size={100}\n    display=\"inline-block\"\n    marginTop={0}\n    marginBottom={0}\n    marginRight={32}\n    paddingLeft={0}\n    color=\"muted\"\n    fontSize={11}\n    {...rest}\n  >\n    {children}\n  </ListItem>\n);\n","import React, { useState } from \"react\";\nimport { Tablist, Pane, Tab as EvergreenTab } from \"evergreen-ui\";\n\nexport const TabPane = ({ children, ...rest }) => (\n  <Pane marginTop={16} {...rest}>\n    {children}\n  </Pane>\n);\n\nexport const Tab = ({ children, ...rest }) => (\n  <EvergreenTab {...rest}>{children}</EvergreenTab>\n);\n\nexport const Tabs = ({ children }) => {\n  const [selected, setSelected] = useState(0);\n  return (\n    <>\n      <Tablist marginX={-4}>\n        {React.Children.map(children, (x, i) => {\n          const { title, children, ...rest } = x.props;\n          return (\n            <Tab\n              key={i}\n              is=\"a\"\n              isSelected={i === selected}\n              onSelect={() => setSelected(i)}\n              {...rest}\n            >\n              {title}\n            </Tab>\n          );\n        })}\n      </Tablist>\n      {React.Children.map(\n        children,\n        (x, i) =>\n          selected === i && <TabPane key={i}>{x.props.children}</TabPane>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport {\n  Pane,\n  Small,\n  TextInput,\n  Text,\n  Heading,\n  TextInputField,\n  withTheme\n} from \"evergreen-ui\";\nimport { INSTRUMENT_NAMES } from \"../constants\";\n\nimport { Tabs, Tab } from \"../Tabs/Tabs\";\n\nexport const Parameters = withTheme(\n  ({ theme, values, handleChange, setFieldValue }) => {\n    return (\n      <>\n        <Pane\n          background=\"tint1\"\n          borderBottom={`1px solid ${theme.colors.border.default}`}\n          display=\"flex\"\n          paddingX={16}\n          paddingY={8}\n          flexDirection=\"column\"\n        >\n          <Pane flex={1}>\n            <Heading size={200}>Parameters</Heading>\n          </Pane>\n        </Pane>\n        <Pane\n          borderBottom={`1px solid ${theme.colors.border.default}`}\n          display=\"flex\"\n          padding={16}\n          flexDirection=\"column\"\n        >\n          <Tabs>\n            <Tab title=\"Portfolio\">\n              <PortfolioParameters\n                values={values}\n                handleChange={handleChange}\n              />\n            </Tab>\n            <Tab title=\"Simulation\">\n              <SimulationParameters\n                values={values}\n                handleChange={handleChange}\n              />\n            </Tab>\n            <Tab title=\"Optimizer\">\n              <OptimizerParameters\n                values={values}\n                handleChange={handleChange}\n              />\n            </Tab>\n            <Tab title=\"Reallocations\">\n              <ReallocationParameters\n                values={values}\n                handleChange={handleChange}\n              />\n            </Tab>\n            <Tab title=\"Constraints\">\n              <InstrumentConstraintParameters\n                values={values}\n                handleChange={handleChange}\n              />\n            </Tab>\n            <Tab title=\"Margins\">\n              <MarginConstraintParameters\n                values={values}\n                handleChange={handleChange}\n              />\n            </Tab>\n          </Tabs>\n        </Pane>\n      </>\n    );\n  }\n);\n\nconst Parameter = props => (\n  <TextInputField flexBasis=\"28%\" marginX={8} {...props} />\n);\n\nexport const MarginConstraintParameters = ({ values, handleChange }) => (\n  <Pane display=\"flex\" flexWrap=\"wrap\" marginX={8}>\n    <Pane>\n      <Heading marginBottom={8}>Instrument allocation constraints</Heading>\n      <Text>\n        Define constraints on how large proportion of the portfolio might be\n        invested in a particular instrument.\n      </Text>\n      <Pane is=\"table\" marginX={-4} marginY={16}>\n        <thead>\n          <tr>\n            <Text is=\"th\">Instrument</Text>\n            <Text is=\"th\">Required margin</Text>\n          </tr>\n        </thead>\n        <tbody>\n          {values.marginConstraints.map((constraint, index) => (\n            <tr key={index}>\n              <td>\n                <Small>{INSTRUMENT_NAMES[index]}</Small>\n              </td>\n              <td>\n                <TextInput\n                  type=\"number\"\n                  name={`marginConstraints.${index}`}\n                  value={values.marginConstraints[index]}\n                  onChange={handleChange}\n                  step=\"any\"\n                  min={0.0}\n                  max={1.0}\n                />\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Pane>\n    </Pane>\n  </Pane>\n);\n\nexport const InstrumentConstraintParameters = ({ values, handleChange }) => (\n  <Pane display=\"flex\" flexWrap=\"wrap\" marginX={8}>\n    <Pane>\n      <Heading marginBottom={8}>Instrument allocation constraints</Heading>\n      <Text>\n        Define constraints on how large proportion of the portfolio might be\n        invested in a particular instrument.\n      </Text>\n      <Pane is=\"table\" marginX={-4} marginY={16}>\n        <thead>\n          <tr>\n            <Text is=\"th\">Instrument</Text>\n            <Text is=\"th\">Min</Text>\n            <Text is=\"th\">Max</Text>\n          </tr>\n        </thead>\n        <tbody>\n          {values.instrumentConstraints.map((allocationConstraint, index) => (\n            <tr key={index}>\n              <td>\n                <Small>{INSTRUMENT_NAMES[index]}</Small>\n              </td>\n              <td>\n                <TextInput\n                  type=\"number\"\n                  name={`instrumentConstraints.${index}.0`}\n                  value={values.instrumentConstraints[index][0]}\n                  onChange={handleChange}\n                  step=\"any\"\n                  min={0.0}\n                  max={1.0}\n                />\n              </td>\n              <td>\n                <TextInput\n                  type=\"number\"\n                  name={`instrumentConstraints.${index}.1`}\n                  value={values.instrumentConstraints[index][1]}\n                  onChange={handleChange}\n                  step=\"any\"\n                  min={0.0}\n                  max={1.0}\n                />\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Pane>\n    </Pane>\n  </Pane>\n);\n\nexport const ReallocationParameters = ({ values, handleChange }) => (\n  <Pane display=\"flex\" flexWrap=\"wrap\" marginX={-8}>\n    {values.transactionCosts.map((transactionCost, index) => (\n      <Parameter\n        key={index}\n        name={`transactionCosts.${index}`}\n        label={INSTRUMENT_NAMES[index]}\n        placeholder=\"0.0\"\n        value={values.transactionCosts[index]}\n        type=\"number\"\n        onChange={handleChange}\n        step=\"any\"\n        min=\"0\"\n        max=\"1\"\n      />\n    ))}\n  </Pane>\n);\n\nexport const PortfolioParameters = ({ values, handleChange }) => {\n  return (\n    <Pane display=\"flex\" flexWrap=\"wrap\" marginX={-8}>\n      <Parameter\n        label=\"Risk aversion\"\n        hint=\"Set to 0.0 to optimize without considering risk.\"\n        placeholder=\"0.5\"\n        value={values.riskAversion}\n        name=\"riskAversion\"\n        type=\"number\"\n        onChange={handleChange}\n        step=\"any\"\n        min=\"0\"\n        max=\"1\"\n      />\n      <Parameter\n        label=\"Initial funding ratio\"\n        hint=\"Initial funding ratio of the portfolio.\"\n        placeholder=\"1.3\"\n        value={values.initialFundingRatio}\n        name=\"initialFundingRatio\"\n        type=\"number\"\n        onChange={handleChange}\n        step=\"any\"\n        min=\"0\"\n      />\n      <Parameter\n        label=\"Target funding ratio\"\n        hint=\"Penalize portfolios with funding ratio below this value.\"\n        placeholder=\"1.3\"\n        value={values.targetFundingRatio}\n        name=\"targetFundingRatio\"\n        type=\"number\"\n        onChange={handleChange}\n        step=\"any\"\n        min=\"0\"\n      />\n    </Pane>\n  );\n};\n\nexport const SimulationParameters = ({ values, handleChange }) => {\n  return (\n    <Pane display=\"flex\" flexWrap=\"wrap\" marginX={-8}>\n      <Parameter\n        label=\"Steps\"\n        hint=\"Number of steps to simulate.\"\n        placeholder=\"4\"\n        value={values.steps}\n        name=\"steps\"\n        type=\"number\"\n        onChange={handleChange}\n        step=\"any\"\n        min=\"1\"\n        max=\"12\"\n      />\n    </Pane>\n  );\n};\n\nexport const OptimizerParameters = ({ values, handleChange }) => {\n  return (\n    <Pane display=\"flex\" flexWrap=\"wrap\" marginX={-8}>\n      <Parameter\n        label=\"Population size\"\n        hint=\"Number of individuals in the population.\"\n        placeholder=\"100\"\n        value={values.populationSize}\n        name=\"populationSize\"\n        type=\"number\"\n        onChange={handleChange}\n        step=\"any\"\n        min=\"0\"\n      />\n      <Parameter\n        label=\"Elitism copies\"\n        hint=\"Keep a number of clones of the best individuals at iteration.\"\n        placeholder=\"2\"\n        value={values.elitismCopies}\n        name=\"elitismCopies\"\n        type=\"number\"\n        onChange={handleChange}\n        step=\"any\"\n        min=\"0\"\n      />\n      <Parameter\n        label=\"Generations\"\n        hint=\"Iterate through this many generations.\"\n        placeholder=\"100\"\n        value={values.generations}\n        name=\"generations\"\n        type=\"number\"\n        onChange={handleChange}\n        step=\"any\"\n        min=\"1\"\n      />\n      <Parameter\n        label=\"Mutation rate\"\n        hint=\"Probability of mutating a gene.\"\n        placeholder=\"0.02\"\n        value={values.mutationRate}\n        name=\"mutationRate\"\n        type=\"number\"\n        onChange={handleChange}\n        step=\"any\"\n        min=\"0\"\n        max=\"1\"\n      />\n      <Parameter\n        label=\"Crossover rate\"\n        hint=\"Probability of crossing two individuals.\"\n        placeholder=\"0.02\"\n        value={values.crossoverRate}\n        name=\"crossoverRate\"\n        type=\"number\"\n        onChange={handleChange}\n        step=\"any\"\n        min=\"0\"\n        max=\"1\"\n      />\n    </Pane>\n  );\n};\n","import React from \"react\";\nimport { Pane, Heading, withTheme } from \"evergreen-ui\";\n\nimport { Tabs, Tab } from \"../Tabs/Tabs\";\nimport { Subscribe } from \"unstated\";\nimport { SimulatorContainer } from \"../SimulatorContainer\";\nimport { INSTRUMENT_NAMES } from \"../constants\";\n\nexport const Results = withTheme(({ theme }) => (\n  <>\n    <Pane\n      background=\"tint1\"\n      borderBottom={`1px solid ${theme.colors.border.default}`}\n      display=\"flex\"\n      paddingX={16}\n      paddingY={8}\n      flexDirection=\"column\"\n    >\n      <Pane flex={1}>\n        <Heading size={200}>Results</Heading>\n      </Pane>\n    </Pane>\n    <Pane display=\"flex\" padding={16} flexDirection=\"column\">\n      <Tabs>\n        <Tab title=\"Weights\">\n          <Pane display=\"flex\" flexWrap=\"wrap\" marginX={-8} marginY={-8}>\n            <Subscribe to={[SimulatorContainer]}>\n              {simulator =>\n                simulator.state.weights.map((weight, index) => (\n                  <Card\n                    key={index}\n                    title={INSTRUMENT_NAMES[index]}\n                    value={weight.toFixed(2)}\n                  />\n                ))\n              }\n            </Subscribe>\n          </Pane>\n        </Tab>\n        <Tab title=\"Metrics\">\n          <Pane display=\"flex\" flexWrap=\"wrap\" marginX={-8} marginY={-8}>\n            <Subscribe to={[SimulatorContainer]}>\n              {simulator => (\n                <>\n                  <Card\n                    title=\"Fitness\"\n                    value={simulator.state.metrics.fitness.toFixed(2)}\n                  />\n                  <Card\n                    title=\"Expected Return\"\n                    value={simulator.state.metrics.expectedReturn.toFixed(2)}\n                  />\n                  <Card\n                    title=\"Expected Risk\"\n                    value={simulator.state.metrics.expectedRisk.toFixed(2)}\n                  />\n                </>\n              )}\n            </Subscribe>\n          </Pane>\n        </Tab>\n      </Tabs>\n    </Pane>\n  </>\n));\n\nconst Card = ({ title, value, children, ...rest }) => (\n  <Pane\n    background=\"tint1\"\n    padding={16}\n    flexBasis=\"15%\"\n    marginX={8}\n    marginY={8}\n    border=\"default\"\n    {...rest}\n  >\n    <Heading size={200} marginBottom={8}>\n      {title}\n    </Heading>\n    {typeof value === \"undefined\" ? (\n      children\n    ) : (\n      <Heading size={800}>{value}</Heading>\n    )}\n  </Pane>\n);\n","import React from \"react\";\nimport { Pane, Heading, Button, withTheme } from \"evergreen-ui\";\nimport { Subscribe } from \"unstated\";\nimport { Formik } from \"formik\";\n\nimport { Parameters } from \"./Parameters\";\nimport { Results } from \"./Results\";\nimport { SimulatorContainer } from \"../SimulatorContainer\";\n\nexport const Simulator = withTheme(({ theme, ...rest }) => (\n  <Subscribe to={[SimulatorContainer]}>\n    {simulator => (\n      <Formik\n        initialValues={{\n          populationSize: 10,\n          elitismCopies: 2,\n          generations: 10,\n          mutationRate: 0.02,\n          crossoverRate: 0.02,\n          steps: 4,\n          riskAversion: 0.0,\n          initialFundingRatio: 1.3,\n          targetFundingRatio: 1.3,\n          transactionCosts: [\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0\n          ],\n          instrumentConstraints: [\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0],\n            [0.0, 1.0]\n          ],\n          marginConstraints: [0.05, 0.05, 0.05, 0.05]\n        }}\n        onSubmit={(values, { setSubmitting }) => {\n          const instrumentConstraints = [\n            ...values.instrumentConstraints.map(x => x[0]),\n            ...values.instrumentConstraints.map(x => x[1])\n          ];\n          simulator.optimize({\n            ...values,\n            instrumentConstraints\n          });\n        }}\n      >\n        {({\n          isSubmitting,\n          handleSubmit,\n          values,\n          handleChange,\n          setFieldValue\n        }) => (\n          <form onSubmit={handleSubmit}>\n            <Pane display=\"flex\" flexDirection=\"column\" {...rest}>\n              <Pane\n                borderBottom={`1px solid ${theme.colors.border.default}`}\n                display=\"flex\"\n                padding={16}\n                alignItems=\"center\"\n              >\n                <Pane flex={1}>\n                  <Heading>Backtest</Heading>\n                </Pane>\n                <Pane>\n                  <Button appearance=\"primary\" iconBefore=\"play\" type=\"submit\">\n                    Run\n                  </Button>\n                </Pane>\n              </Pane>\n              <Parameters\n                values={values}\n                handleChange={handleChange}\n                setFieldValue={setFieldValue}\n              />\n              <Results />\n            </Pane>\n          </form>\n        )}\n      </Formik>\n    )}\n  </Subscribe>\n));\n","import React from \"react\";\nimport { Pane, Spinner } from \"evergreen-ui\";\nimport { Header } from \"./Header/Header\";\nimport { Sidebar } from \"./Sidebar/Sidebar\";\nimport { Simulator } from \"./Simulator/Simulator\";\nimport { Subscribe } from \"unstated\";\nimport { SimulatorContainer } from \"./SimulatorContainer\";\n\nconst HEADER_HEIGHT = \"52px\";\n\nconst App = () => {\n  return (\n    <Subscribe to={[SimulatorContainer]}>\n      {simulator =>\n        simulator.loading ? (\n          <Spinner\n            transform=\"translate(-50%, -50%)\"\n            position=\"absolute\"\n            left=\"50%\"\n            top=\"50%\"\n          />\n        ) : (\n          <Pane height=\"100vh\" display=\"flex\" flexDirection=\"column\">\n            <Header />\n            <Pane display=\"flex\" height={`calc(100% - ${HEADER_HEIGHT})`}>\n              <Pane flex={0} height=\"100%\">\n                <Sidebar />\n              </Pane>\n              <Pane flex={1} height=\"100%\">\n                <Simulator />\n              </Pane>\n            </Pane>\n          </Pane>\n        )\n      }\n    </Subscribe>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"unstated\";\n\nReactDOM.render(\n  <Provider>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}