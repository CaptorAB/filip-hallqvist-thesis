(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(49),l=a.n(i),o=(a(65),a(145)),c=a(153),s=a(4),m=a(26),u=a(154),d=Object(m.a)(function(e){var t=e.theme,a=Object(s.a)(e,["theme"]);return r.a.createElement(c.a,Object.assign({display:"flex",padding:16,background:t.palette.blue.base},a),r.a.createElement(c.a,{flex:1,alignItems:"center",display:"flex"},r.a.createElement(u.a,{color:t.colors.border.default},"Capgen")),r.a.createElement(c.a,null))}),p=a(155),h=a(156),f=a(17),g=a(38),b=a.n(g),E=a(56),v=a(3),x=a(51),y=a(5),R=a(7),w=a(6),C=a(8),O=window.libcapgen(),j=null,k=[];O.onRuntimeInitialized=function(){j={optimize:function(){return O.optimize.apply(O,arguments)}},k.map(function(e){return e()})};var z=function(){return new Promise(function(e){null===j?k.push(function(){return e(j)}):e(j)})},S=a(160),F=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(R.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={history:[],loading:!1,metrics:{fitness:0,expectedReturn:0,expectedRisk:0},scenarios:[]},a.optimize=function(){var e=Object(x.a)(b.a.mark(function e(t){var n,r,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:n=e.sent,r=n.optimize(t),i={fitness:r.fitness,expectedReturn:r.expectedReturn,expectedRisk:r.expectedRisk},a.setState(Object(v.a)({},a.state,{history:[{title:"Backtest",timestamp:Object(S.a)(new Date,"yyyy-MM-dd HH:mm:ss"),metrics:Object(v.a)({},i)}].concat(Object(E.a)(a.state.history)),metrics:Object(v.a)({},i)}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(C.a)(t,e),t}(f.a),B=Object(m.a)(function(e){var t=e.theme,a=Object(s.a)(e,["theme"]);return r.a.createElement(c.a,Object.assign({height:"100%",overflowY:"auto",width:"200px",background:"tint1",borderRight:"1px solid ".concat(t.colors.border.default)},a),r.a.createElement(f.c,{to:[F]},function(e){return e.state.history.map(function(e,a){return r.a.createElement(c.a,{key:a,padding:16,borderBottom:"1px solid ".concat(t.colors.border.default)},r.a.createElement(u.a,{size:200},e.title),r.a.createElement(u.a,{size:100},e.timestamp),r.a.createElement(p.a,{marginBottom:0},r.a.createElement(I,{icon:"symbol-triangle-up"},e.metrics.expectedReturn.toFixed(2)),r.a.createElement(I,{icon:"symbol-triangle-down"},e.metrics.expectedRisk.toFixed(2))))})}))}),I=function(e){var t=e.children,a=Object(s.a)(e,["children"]);return r.a.createElement(h.a,Object.assign({size:100,display:"inline-block",marginTop:0,marginBottom:0,marginRight:32,paddingLeft:0,color:"muted",fontSize:11},a),t)},X=a(159),Y=a(55),D=a(161),P=["Domestic Equity","Global Equity","Real Estate","Alternative","Credit","Bonds 2-Year","Bonds 5-Year","Cash","FTA","Domestic Equity Futures","Interest Rate Swap 2-Year","Interest Rate Swap 5-Year","Interest Rate Swap 20-Year"],W=a(33),A=a(157),M=a(158),T=function(e){var t=e.children,a=Object(s.a)(e,["children"]);return r.a.createElement(c.a,Object.assign({marginTop:16},a),t)},q=function(e){var t=e.children,a=Object(s.a)(e,["children"]);return r.a.createElement(A.a,a,t)},G=function(e){var t=e.children,a=Object(n.useState)(0),i=Object(W.a)(a,2),l=i[0],o=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{marginX:-4},r.a.Children.map(t,function(e,t){var a=e.props,n=a.title,i=(a.children,Object(s.a)(a,["title","children"]));return r.a.createElement(q,Object.assign({key:t,is:"a",isSelected:t===l,onSelect:function(){return o(t)}},i),n)})),r.a.Children.map(t,function(e,t){return l===t&&r.a.createElement(T,{key:t},e.props.children)}))},H=Object(m.a)(function(e){var t=e.theme,a=e.values,n=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{background:"tint1",borderBottom:"1px solid ".concat(t.colors.border.default),display:"flex",paddingX:16,paddingY:8,flexDirection:"column"},r.a.createElement(c.a,{flex:1},r.a.createElement(u.a,{size:200},"Parameters"))),r.a.createElement(c.a,{borderBottom:"1px solid ".concat(t.colors.border.default),display:"flex",padding:16,flexDirection:"column"},r.a.createElement(G,null,r.a.createElement(q,{title:"Portfolio"},r.a.createElement(K,{values:a,handleChange:n})),r.a.createElement(q,{title:"Simulation"},r.a.createElement(L,{values:a,handleChange:n})),r.a.createElement(q,{title:"Optimizer"},r.a.createElement(V,{values:a,handleChange:n})),r.a.createElement(q,{title:"Reallocations"},r.a.createElement(N,{values:a,handleChange:n})))))}),J=function(e){return r.a.createElement(D.a,Object.assign({flexBasis:"28%",marginX:8},e))},N=function(e){var t=e.values,a=e.handleChange;return r.a.createElement(c.a,{display:"flex",flexWrap:"wrap",marginX:-8},t.transactionCosts.map(function(e,n){return r.a.createElement(J,{key:n,name:"transactionCosts.".concat(n),label:P[n],placeholder:"0.0",value:t.transactionCosts[n],type:"number",onChange:a,step:"any",min:"0",max:"1"})}))},K=function(e){var t=e.values,a=e.handleChange;return r.a.createElement(c.a,{display:"flex",flexWrap:"wrap",marginX:-8},r.a.createElement(J,{label:"Risk aversion",hint:"Set to 0.0 to optimize without considering risk.",placeholder:"0.5",value:t.riskAversion,name:"riskAversion",type:"number",onChange:a,step:"any",min:"0",max:"1"}),r.a.createElement(J,{label:"Initial funding ratio",hint:"Initial funding ratio of the portfolio.",placeholder:"1.3",value:t.initialFundingRatio,name:"initialFundingRatio",type:"number",onChange:a,step:"any",min:"0"}),r.a.createElement(J,{label:"Target funding ratio",hint:"Penalize portfolios with funding ratio below this value.",placeholder:"1.3",value:t.targetFundingRatio,name:"targetFundingRatio",type:"number",onChange:a,step:"any",min:"0"}))},L=function(e){var t=e.values,a=e.handleChange;return r.a.createElement(c.a,{display:"flex",flexWrap:"wrap",marginX:-8},r.a.createElement(J,{label:"Steps",hint:"Number of steps to simulate.",placeholder:"4",value:t.steps,name:"steps",type:"number",onChange:a,step:"any",min:"1",max:"12"}))},V=function(e){var t=e.values,a=e.handleChange;return r.a.createElement(c.a,{display:"flex",flexWrap:"wrap",marginX:-8},r.a.createElement(J,{label:"Population size",hint:"Number of individuals in the population.",placeholder:"100",value:t.populationSize,name:"populationSize",type:"number",onChange:a,step:"any",min:"0"}),r.a.createElement(J,{label:"Elitism copies",hint:"Keep a number of clones of the best individuals at iteration.",placeholder:"2",value:t.elitismCopies,name:"elitismCopies",type:"number",onChange:a,step:"any",min:"0"}),r.a.createElement(J,{label:"Generations",hint:"Iterate through this many generations.",placeholder:"100",value:t.generations,name:"generations",type:"number",onChange:a,step:"any",min:"1"}),r.a.createElement(J,{label:"Mutation rate",hint:"Probability of mutating a gene.",placeholder:"0.02",value:t.mutationRate,name:"mutationRate",type:"number",onChange:a,step:"any",min:"0",max:"1"}),r.a.createElement(J,{label:"Crossover rate",hint:"Probability of crossing two individuals.",placeholder:"0.02",value:t.crossoverRate,name:"crossoverRate",type:"number",onChange:a,step:"any",min:"0",max:"1"}))},$=Object(m.a)(function(e){var t=e.theme;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{background:"tint1",borderBottom:"1px solid ".concat(t.colors.border.default),display:"flex",paddingX:16,paddingY:8,flexDirection:"column"},r.a.createElement(c.a,{flex:1},r.a.createElement(u.a,{size:200},"Results"))),r.a.createElement(c.a,{display:"flex",padding:16,flexDirection:"column"},r.a.createElement(G,null,r.a.createElement(q,{title:"Metrics"},r.a.createElement(c.a,{display:"flex",flexWrap:"wrap",marginX:-8,marginY:-8},r.a.createElement(f.c,{to:[F]},function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{title:"Fitness",value:e.state.metrics.fitness.toFixed(2)}),r.a.createElement(Q,{title:"Expected Return",value:e.state.metrics.expectedReturn.toFixed(2)}),r.a.createElement(Q,{title:"Expected Risk",value:e.state.metrics.expectedRisk.toFixed(2)}))}))))))}),Q=function(e){var t=e.title,a=e.value,n=e.children,i=Object(s.a)(e,["title","value","children"]);return r.a.createElement(c.a,Object.assign({background:"tint1",padding:16,flexBasis:"28%",marginX:8,marginY:8,border:"default"},i),r.a.createElement(u.a,{size:200,marginBottom:8},t),"undefined"===typeof a?n:r.a.createElement(u.a,{size:800},a))},U=Object(m.a)(function(e){var t=e.theme,a=Object(s.a)(e,["theme"]);return r.a.createElement(f.c,{to:[F]},function(e){return r.a.createElement(Y.a,{initialValues:{populationSize:10,elitismCopies:2,generations:10,mutationRate:.02,crossoverRate:.02,steps:4,riskAversion:0,initialFundingRatio:1.3,targetFundingRatio:1.3,transactionCosts:[0,0,0,0,0,0,0,0,0,0,0,0,0]},onSubmit:function(t,a){a.setSubmitting;e.optimize(t)}},function(e){e.isSubmitting;var n=e.handleSubmit,i=e.values,l=e.handleChange;return r.a.createElement("form",{onSubmit:n},r.a.createElement(c.a,Object.assign({display:"flex",flexDirection:"column"},a),r.a.createElement(c.a,{borderBottom:"1px solid ".concat(t.colors.border.default),display:"flex",padding:16,alignItems:"center"},r.a.createElement(c.a,{flex:1},r.a.createElement(u.a,null,"Backtest")),r.a.createElement(c.a,null,r.a.createElement(X.a,{appearance:"primary",iconBefore:"play",type:"submit"},"Run"))),r.a.createElement(H,{values:i,handleChange:l}),r.a.createElement($,null)))})})}),Z=function(){return r.a.createElement(f.c,{to:[F]},function(e){return e.loading?r.a.createElement(o.a,{transform:"translate(-50%, -50%)",position:"absolute",left:"50%",top:"50%"}):r.a.createElement(c.a,{height:"100vh",display:"flex",flexDirection:"column"},r.a.createElement(d,null),r.a.createElement(c.a,{display:"flex",height:"calc(100% - ".concat("52px",")")},r.a.createElement(c.a,{flex:0,height:"100%"},r.a.createElement(B,null)),r.a.createElement(c.a,{flex:1,height:"100%"},r.a.createElement(U,null))))})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(f.b,null,r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){e.exports=a(144)},65:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.3811879d.chunk.js.map